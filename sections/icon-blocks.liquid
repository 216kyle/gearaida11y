<div class="section section--icon-blocks section--icon-blocks-{{ section.id }}{% if section.settings.border_top %} section--border-top{% endif %}{% if section.settings.border_bottom %} section--border-bottom{% endif %}">
  <div class="site-container--wide">
    <h4 class="section-label">{{ section.settings.title }}</h4>
  </div>
  <div class="site-container">
    <h2 class="icon-blocks__heading">{{ section.settings.heading }}</h2>
    <div class="icon-blocks__text">{{ section.settings.content }}</div>
    <div class="icon-blocks-items">
      {% for block in section.blocks %}
        <a href="{{ block.settings.url }}" class="icon-blocks-item">
          <img width="200" height="200" src="{{ block.settings.image | img_url: '400x' }}" alt="{{ block.settings.title }}" />
          <h3>{{ block.settings.title }}</h3>
        </a>
      {% endfor%}
    </div>
    <div class="icon-blocks__actions">
      {% if section.settings.btn_1_label != blank %}
        <a class="btn btn-large btn-alt-solid" href="{{ section.settings.btn_1_url}}">{{ section.settings.btn_1_label }} <span class="visually-hidden">{{ section.settings.heading | escape }}</span></a>
      {% endif %}
      {% if section.settings.btn_2_label != blank %}
        <a class="btn btn-large btn-alt" href="{{ section.settings.btn_2_url }}">{{ section.settings.btn_2_label }} <span class="visually-hidden">About {{ section.settings.heading | escape }}</span></a>
      {% endif %}
    </div>
  </div>
</div>


{% schema %}
{
  "name": "Icon Blocks",
  "settings": [
    {
      "type":"checkbox",
      "id":"border_top",
      "label":"Border Top?",
      "default":false
    },
    {
      "type":"checkbox",
      "id":"border_bottom",
      "label":"Border Bottom?",
      "default":true
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section Label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Text Content"
    },
    {
      "type": "url",
      "id": "btn_1_url",
      "label": "Button #1 URL"
    },
    {
      "type": "text",
      "id": "btn_1_label",
      "label": "Button #1 Label"
    },
    {
      "type": "url",
      "id": "btn_2_url",
      "label": "Button #2 URL"
    },
    {
      "type": "text",
      "id": "btn_2_label",
      "label": "Button #2 Label"
    }
  ],
  "max_blocks":6,
  "blocks":[
    {
      "type":"item",
      "name":"Icon",
      "settings":[
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Icon Blocks",
      "category": "Media"
    }
  ]
}
{% endschema %}
